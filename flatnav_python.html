<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FlatNav Index Module &mdash; FlatNav 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=d45e8c67"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            FlatNav
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="include_readme.html">FlatNav</a></li>
<li class="toctree-l1"><a class="reference internal" href="include_readme.html#citation">Citation</a></li>
<li class="toctree-l1"><a class="reference internal" href="cpp_api.html">C++ API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FlatNav</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">FlatNav Index Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/flatnav_python.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="flatnav-index-module">
<h1>FlatNav Index Module<a class="headerlink" href="#flatnav-index-module" title="Link to this heading"></a></h1>
<p>This module provides interfaces to create and manipulate FlatNav index structures.</p>
<section id="create">
<h2>create<a class="headerlink" href="#create" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="flatnav.index.create">
<span class="sig-prename descclassname"><span class="pre">flatnav.index.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distance_type:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_size:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_edges_per_node:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_data_type:</span> <span class="pre">flatnav._core.data_type.DataType</span> <span class="pre">=</span> <span class="pre">&lt;DataType.float32:</span> <span class="pre">9&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collect_stats:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">object</span></span></span><a class="headerlink" href="#flatnav.index.create" title="Link to this definition"></a></dt>
<dd><p>Constructs a an in-memory index with the parameters.
Args:</p>
<blockquote>
<div><p>distance_type (str): The type of distance metric to use (‘l2’ for Euclidean, ‘angular’ for inner product).
dim (int): The number of dimensions in the dataset.
dataset_size (int): The number of vectors in the dataset.
max_edges_per_node (int): The maximum number of edges per node in the graph.
verbose (bool, optional): Enables verbose output. Defaults to False.
collect_stats (bool, optional): Collects performance statistics. Defaults to False.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>Union[IndexL2Float, IndexIPFloat]: The constructed index.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="index-classes">
<h2>Index Classes<a class="headerlink" href="#index-classes" title="Link to this heading"></a></h2>
<p>Classes for managing FlatNav indices.</p>
</section>
<section id="indexl2float">
<h2>IndexL2Float<a class="headerlink" href="#indexl2float" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">flatnav.index.</span></span><span class="sig-name descname"><span class="pre">IndexL2Float</span></span><a class="headerlink" href="#flatnav.index.IndexL2Float" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pybind11_object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_construction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.add" title="Link to this definition"></a></dt>
<dd><p>Add vectors(data) to the index with the given <cite>ef_construction</cite> parameter and optional labels. 
<cite>ef_construction</cite> determines how many vertices are visited while inserting every vector in 
the underlying graph structure.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.
ef_construction (int): The number of vertices to visit while inserting every vector in the graph.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.
labels (Optional[np.ndarray], optional): The labels for the data. Defaults to None.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.allocate_nodes">
<span class="sig-name descname"><span class="pre">allocate_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.allocate_nodes" title="Link to this definition"></a></dt>
<dd><p>Allocate nodes in the underlying graph structure for the given data. Unlike the add method, 
this method does not construct the edge connectivity. It only allocates memory for each node 
in the graph. When using this method, you should invoke <cite>build_graph_links</cite> explicity. 
<code class="docutils literal notranslate"><span class="pre">`NOTE`</span></code>: In most cases you should not need to use this method.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.build_graph_links">
<span class="sig-name descname"><span class="pre">build_graph_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtx_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.build_graph_links" title="Link to this definition"></a></dt>
<dd><p>Construct the edge connectivity of the underlying graph. This method should be invoked after 
allocating nodes using the <cite>allocate_nodes</cite> method.
Args:</p>
<blockquote>
<div><p>mtx_filename (str): The filename of the matrix file.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.get_graph_outdegree_table">
<span class="sig-name descname"><span class="pre">get_graph_outdegree_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.get_graph_outdegree_table" title="Link to this definition"></a></dt>
<dd><p>Returns the outdegree table (adjacency list) representation of the underlying graph.
Returns:</p>
<blockquote>
<div><p>List[List[int]]: The outdegree table.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.get_query_distance_computations">
<span class="sig-name descname"><span class="pre">get_query_distance_computations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.get_query_distance_computations" title="Link to this definition"></a></dt>
<dd><p>Returns the number of distance computations performed during the last search operation. 
This method also resets the distance computations counter.
Returns:</p>
<blockquote>
<div><p>int: The number of distance computations.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.load_index">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.load_index" title="Link to this definition"></a></dt>
<dd><p>Load a FlatNav index from a given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to load the index from.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>Union[L2Inde, IndexIPFloat]: The loaded index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.max_edges_per_node">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_edges_per_node</span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.max_edges_per_node" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.num_threads">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_threads</span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.num_threads" title="Link to this definition"></a></dt>
<dd><p>Returns the number of threads used for constructing the graph and/or performing KNN search.
Returns:</p>
<blockquote>
<div><p>int: The number of threads.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.reorder" title="Link to this definition"></a></dt>
<dd><p>Perform graph re-ordering based on the given sequence of re-ordering strategies.
Supported re-ordering strategies include <cite>gorder</cite> and <cite>rcm</cite>.
Reference:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Graph Reordering for Cache-Efficient Near Neighbor Search: <a class="reference external" href="https://arxiv.org/pdf/2104.03221">https://arxiv.org/pdf/2104.03221</a></p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><p>strategies (List[str]): The sequence of re-ordering strategies.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.save" title="Link to this definition"></a></dt>
<dd><p>Save a FlatNav index at the given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to save the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">queries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.search" title="Link to this definition"></a></dt>
<dd><p>This is a batched version of the <cite>search_single</cite> method.
Return top <cite>K</cite> closest data points for every query in the provided <cite>queries</cite>. The results are returned as a Tuple of
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited while finding the closest neighbors
for every query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>queries (np.ndarray): The query vectors.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for every query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.search_single">
<span class="sig-name descname"><span class="pre">search_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.search_single" title="Link to this definition"></a></dt>
<dd><p>Return top <cite>K</cite> closest data points for the given <cite>query</cite>. The results are returned as a Tuple of 
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited 
while finding the closest neighbors for the query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>query (np.ndarray): The query vector.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for the query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.set_data_type">
<span class="sig-name descname"><span class="pre">set_data_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">flatnav._core.data_type.DataType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.set_data_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Float.set_num_threads">
<span class="sig-name descname"><span class="pre">set_num_threads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Float" title="flatnav._core.index.IndexL2Float"><span class="pre">flatnav._core.index.IndexL2Float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Float.set_num_threads" title="Link to this definition"></a></dt>
<dd><p>Set the number of threads to use for constructing the graph and/or performing KNN search.
Args:</p>
<blockquote>
<div><p>num_threads (int): The number of threads to use.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="indexl2uint8">
<h2>IndexL2Uint8<a class="headerlink" href="#indexl2uint8" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">flatnav.index.</span></span><span class="sig-name descname"><span class="pre">IndexL2Uint8</span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pybind11_object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_construction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.add" title="Link to this definition"></a></dt>
<dd><p>Add vectors(data) to the index with the given <cite>ef_construction</cite> parameter and optional labels. 
<cite>ef_construction</cite> determines how many vertices are visited while inserting every vector in 
the underlying graph structure.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.
ef_construction (int): The number of vertices to visit while inserting every vector in the graph.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.
labels (Optional[np.ndarray], optional): The labels for the data. Defaults to None.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.allocate_nodes">
<span class="sig-name descname"><span class="pre">allocate_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.allocate_nodes" title="Link to this definition"></a></dt>
<dd><p>Allocate nodes in the underlying graph structure for the given data. Unlike the add method, 
this method does not construct the edge connectivity. It only allocates memory for each node 
in the graph. When using this method, you should invoke <cite>build_graph_links</cite> explicity. 
<code class="docutils literal notranslate"><span class="pre">`NOTE`</span></code>: In most cases you should not need to use this method.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.build_graph_links">
<span class="sig-name descname"><span class="pre">build_graph_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtx_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.build_graph_links" title="Link to this definition"></a></dt>
<dd><p>Construct the edge connectivity of the underlying graph. This method should be invoked after 
allocating nodes using the <cite>allocate_nodes</cite> method.
Args:</p>
<blockquote>
<div><p>mtx_filename (str): The filename of the matrix file.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.get_graph_outdegree_table">
<span class="sig-name descname"><span class="pre">get_graph_outdegree_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.get_graph_outdegree_table" title="Link to this definition"></a></dt>
<dd><p>Returns the outdegree table (adjacency list) representation of the underlying graph.
Returns:</p>
<blockquote>
<div><p>List[List[int]]: The outdegree table.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.get_query_distance_computations">
<span class="sig-name descname"><span class="pre">get_query_distance_computations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.get_query_distance_computations" title="Link to this definition"></a></dt>
<dd><p>Returns the number of distance computations performed during the last search operation. 
This method also resets the distance computations counter.
Returns:</p>
<blockquote>
<div><p>int: The number of distance computations.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.load_index">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.load_index" title="Link to this definition"></a></dt>
<dd><p>Load a FlatNav index from a given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to load the index from.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>Union[L2Inde, IndexIPFloat]: The loaded index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.max_edges_per_node">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_edges_per_node</span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.max_edges_per_node" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.num_threads">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_threads</span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.num_threads" title="Link to this definition"></a></dt>
<dd><p>Returns the number of threads used for constructing the graph and/or performing KNN search.
Returns:</p>
<blockquote>
<div><p>int: The number of threads.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.reorder" title="Link to this definition"></a></dt>
<dd><p>Perform graph re-ordering based on the given sequence of re-ordering strategies.
Supported re-ordering strategies include <cite>gorder</cite> and <cite>rcm</cite>.
Reference:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Graph Reordering for Cache-Efficient Near Neighbor Search: <a class="reference external" href="https://arxiv.org/pdf/2104.03221">https://arxiv.org/pdf/2104.03221</a></p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><p>strategies (List[str]): The sequence of re-ordering strategies.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.save" title="Link to this definition"></a></dt>
<dd><p>Save a FlatNav index at the given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to save the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">queries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.search" title="Link to this definition"></a></dt>
<dd><p>This is a batched version of the <cite>search_single</cite> method.
Return top <cite>K</cite> closest data points for every query in the provided <cite>queries</cite>. The results are returned as a Tuple of
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited while finding the closest neighbors
for every query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>queries (np.ndarray): The query vectors.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for every query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.search_single">
<span class="sig-name descname"><span class="pre">search_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.search_single" title="Link to this definition"></a></dt>
<dd><p>Return top <cite>K</cite> closest data points for the given <cite>query</cite>. The results are returned as a Tuple of 
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited 
while finding the closest neighbors for the query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>query (np.ndarray): The query vector.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for the query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.set_data_type">
<span class="sig-name descname"><span class="pre">set_data_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">flatnav._core.data_type.DataType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.set_data_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexL2Uint8.set_num_threads">
<span class="sig-name descname"><span class="pre">set_num_threads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexL2Uint8" title="flatnav._core.index.IndexL2Uint8"><span class="pre">flatnav._core.index.IndexL2Uint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexL2Uint8.set_num_threads" title="Link to this definition"></a></dt>
<dd><p>Set the number of threads to use for constructing the graph and/or performing KNN search.
Args:</p>
<blockquote>
<div><p>num_threads (int): The number of threads to use.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="indexipfloat">
<h2>IndexIPFloat<a class="headerlink" href="#indexipfloat" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">flatnav.index.</span></span><span class="sig-name descname"><span class="pre">IndexIPFloat</span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pybind11_object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_construction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.add" title="Link to this definition"></a></dt>
<dd><p>Add vectors(data) to the index with the given <cite>ef_construction</cite> parameter and optional labels. 
<cite>ef_construction</cite> determines how many vertices are visited while inserting every vector in 
the underlying graph structure.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.
ef_construction (int): The number of vertices to visit while inserting every vector in the graph.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.
labels (Optional[np.ndarray], optional): The labels for the data. Defaults to None.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.allocate_nodes">
<span class="sig-name descname"><span class="pre">allocate_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.allocate_nodes" title="Link to this definition"></a></dt>
<dd><p>Allocate nodes in the underlying graph structure for the given data. Unlike the add method, 
this method does not construct the edge connectivity. It only allocates memory for each node 
in the graph. When using this method, you should invoke <cite>build_graph_links</cite> explicity. 
<code class="docutils literal notranslate"><span class="pre">`NOTE`</span></code>: In most cases you should not need to use this method.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.build_graph_links">
<span class="sig-name descname"><span class="pre">build_graph_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtx_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.build_graph_links" title="Link to this definition"></a></dt>
<dd><p>Construct the edge connectivity of the underlying graph. This method should be invoked after 
allocating nodes using the <cite>allocate_nodes</cite> method.
Args:</p>
<blockquote>
<div><p>mtx_filename (str): The filename of the matrix file.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.get_graph_outdegree_table">
<span class="sig-name descname"><span class="pre">get_graph_outdegree_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.get_graph_outdegree_table" title="Link to this definition"></a></dt>
<dd><p>Returns the outdegree table (adjacency list) representation of the underlying graph.
Returns:</p>
<blockquote>
<div><p>List[List[int]]: The outdegree table.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.get_query_distance_computations">
<span class="sig-name descname"><span class="pre">get_query_distance_computations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.get_query_distance_computations" title="Link to this definition"></a></dt>
<dd><p>Returns the number of distance computations performed during the last search operation. 
This method also resets the distance computations counter.
Returns:</p>
<blockquote>
<div><p>int: The number of distance computations.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.load_index">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.load_index" title="Link to this definition"></a></dt>
<dd><p>Load a FlatNav index from a given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to load the index from.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>Union[L2Inde, IndexIPFloat]: The loaded index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.max_edges_per_node">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_edges_per_node</span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.max_edges_per_node" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.num_threads">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_threads</span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.num_threads" title="Link to this definition"></a></dt>
<dd><p>Returns the number of threads used for constructing the graph and/or performing KNN search.
Returns:</p>
<blockquote>
<div><p>int: The number of threads.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.reorder" title="Link to this definition"></a></dt>
<dd><p>Perform graph re-ordering based on the given sequence of re-ordering strategies.
Supported re-ordering strategies include <cite>gorder</cite> and <cite>rcm</cite>.
Reference:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Graph Reordering for Cache-Efficient Near Neighbor Search: <a class="reference external" href="https://arxiv.org/pdf/2104.03221">https://arxiv.org/pdf/2104.03221</a></p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><p>strategies (List[str]): The sequence of re-ordering strategies.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.save" title="Link to this definition"></a></dt>
<dd><p>Save a FlatNav index at the given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to save the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">queries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.search" title="Link to this definition"></a></dt>
<dd><p>This is a batched version of the <cite>search_single</cite> method.
Return top <cite>K</cite> closest data points for every query in the provided <cite>queries</cite>. The results are returned as a Tuple of
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited while finding the closest neighbors
for every query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>queries (np.ndarray): The query vectors.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for every query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.search_single">
<span class="sig-name descname"><span class="pre">search_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.search_single" title="Link to this definition"></a></dt>
<dd><p>Return top <cite>K</cite> closest data points for the given <cite>query</cite>. The results are returned as a Tuple of 
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited 
while finding the closest neighbors for the query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>query (np.ndarray): The query vector.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for the query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.set_data_type">
<span class="sig-name descname"><span class="pre">set_data_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">flatnav._core.data_type.DataType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.set_data_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPFloat.set_num_threads">
<span class="sig-name descname"><span class="pre">set_num_threads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPFloat" title="flatnav._core.index.IndexIPFloat"><span class="pre">flatnav._core.index.IndexIPFloat</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPFloat.set_num_threads" title="Link to this definition"></a></dt>
<dd><p>Set the number of threads to use for constructing the graph and/or performing KNN search.
Args:</p>
<blockquote>
<div><p>num_threads (int): The number of threads to use.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="indexipuint8">
<h2>IndexIPUint8<a class="headerlink" href="#indexipuint8" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">flatnav.index.</span></span><span class="sig-name descname"><span class="pre">IndexIPUint8</span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pybind11_object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_construction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">object</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.add" title="Link to this definition"></a></dt>
<dd><p>Add vectors(data) to the index with the given <cite>ef_construction</cite> parameter and optional labels. 
<cite>ef_construction</cite> determines how many vertices are visited while inserting every vector in 
the underlying graph structure.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.
ef_construction (int): The number of vertices to visit while inserting every vector in the graph.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.
labels (Optional[np.ndarray], optional): The labels for the data. Defaults to None.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.allocate_nodes">
<span class="sig-name descname"><span class="pre">allocate_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.allocate_nodes" title="Link to this definition"></a></dt>
<dd><p>Allocate nodes in the underlying graph structure for the given data. Unlike the add method, 
this method does not construct the edge connectivity. It only allocates memory for each node 
in the graph. When using this method, you should invoke <cite>build_graph_links</cite> explicity. 
<code class="docutils literal notranslate"><span class="pre">`NOTE`</span></code>: In most cases you should not need to use this method.
Args:</p>
<blockquote>
<div><p>data (np.ndarray): The data to add to the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.build_graph_links">
<span class="sig-name descname"><span class="pre">build_graph_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtx_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.build_graph_links" title="Link to this definition"></a></dt>
<dd><p>Construct the edge connectivity of the underlying graph. This method should be invoked after 
allocating nodes using the <cite>allocate_nodes</cite> method.
Args:</p>
<blockquote>
<div><p>mtx_filename (str): The filename of the matrix file.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.get_graph_outdegree_table">
<span class="sig-name descname"><span class="pre">get_graph_outdegree_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.get_graph_outdegree_table" title="Link to this definition"></a></dt>
<dd><p>Returns the outdegree table (adjacency list) representation of the underlying graph.
Returns:</p>
<blockquote>
<div><p>List[List[int]]: The outdegree table.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.get_query_distance_computations">
<span class="sig-name descname"><span class="pre">get_query_distance_computations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.get_query_distance_computations" title="Link to this definition"></a></dt>
<dd><p>Returns the number of distance computations performed during the last search operation. 
This method also resets the distance computations counter.
Returns:</p>
<blockquote>
<div><p>int: The number of distance computations.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.load_index">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.load_index" title="Link to this definition"></a></dt>
<dd><p>Load a FlatNav index from a given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to load the index from.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>Union[L2Inde, IndexIPFloat]: The loaded index.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.max_edges_per_node">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_edges_per_node</span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.max_edges_per_node" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.num_threads">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_threads</span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.num_threads" title="Link to this definition"></a></dt>
<dd><p>Returns the number of threads used for constructing the graph and/or performing KNN search.
Returns:</p>
<blockquote>
<div><p>int: The number of threads.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">strategies</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.reorder" title="Link to this definition"></a></dt>
<dd><p>Perform graph re-ordering based on the given sequence of re-ordering strategies.
Supported re-ordering strategies include <cite>gorder</cite> and <cite>rcm</cite>.
Reference:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Graph Reordering for Cache-Efficient Near Neighbor Search: <a class="reference external" href="https://arxiv.org/pdf/2104.03221">https://arxiv.org/pdf/2104.03221</a></p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>Args:</dt><dd><p>strategies (List[str]): The sequence of re-ordering strategies.</p>
</dd>
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.save" title="Link to this definition"></a></dt>
<dd><p>Save a FlatNav index at the given file location.
Args:</p>
<blockquote>
<div><p>filename (str): The file location to save the index.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">queries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.search" title="Link to this definition"></a></dt>
<dd><p>This is a batched version of the <cite>search_single</cite> method.
Return top <cite>K</cite> closest data points for every query in the provided <cite>queries</cite>. The results are returned as a Tuple of
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited while finding the closest neighbors
for every query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>queries (np.ndarray): The query vectors.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for every query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.search_single">
<span class="sig-name descname"><span class="pre">search_single</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">numpy.ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ef_search</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_initializations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.float32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.int32</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.search_single" title="Link to this definition"></a></dt>
<dd><p>Return top <cite>K</cite> closest data points for the given <cite>query</cite>. The results are returned as a Tuple of 
distances and label ID’s. The <cite>ef_search</cite> parameter determines how many neighbors are visited 
while finding the closest neighbors for the query.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>query (np.ndarray): The query vector.
K (int): The number of neighbors to return.
ef_search (int): The number of neighbors to visit while finding the closest neighbors for the query.
num_initializations (int, optional): The number of initializations to perform. Defaults to 100.</p>
</dd>
<dt>Returns:</dt><dd><p>Tuple[np.ndarray, np.ndarray]: The distances and label ID’s of the closest neighbors.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.set_data_type">
<span class="sig-name descname"><span class="pre">set_data_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">flatnav._core.data_type.DataType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.set_data_type" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flatnav.index.IndexIPUint8.set_num_threads">
<span class="sig-name descname"><span class="pre">set_num_threads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#flatnav.index.IndexIPUint8" title="flatnav._core.index.IndexIPUint8"><span class="pre">flatnav._core.index.IndexIPUint8</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_threads</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#flatnav.index.IndexIPUint8.set_num_threads" title="Link to this definition"></a></dt>
<dd><p>Set the number of threads to use for constructing the graph and/or performing KNN search.
Args:</p>
<blockquote>
<div><p>num_threads (int): The number of threads to use.</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Benjamin Ray Coleman, Blaise Munyampirwa, Vihan Lakshman.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>